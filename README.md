# WhaleGuruVR
This is an Open-Source prototype based on an idea by Fabrice Schnoller ([Founder of the DAREWIN Project](http://darewin.org/))to use a brain-computer interface and a virtual reality headset togheter in order to control 360 video playback using emotions.

The prototype has 9 levels where the 360 video being played changes depending on the stress-level of the user.
The stress-level is measured with a EEG-Based Brain-Computer Interface and the stress level is sent to the prototype with keyboard keys.
The prototype has been tested using the Emotiv Insight EEG headset that can send keyboard keys depending on the stress-level.

The prototype is based on a fork of the [Interactive 360 Sample Project](https://assetstore.unity.com/packages/essentials/tutorial-projects/interactive-360-sample-project-108974) by Unity Technologies.
Github code available here: [interactive-360](https://github.com/sarahstumbo/interactive-360) by [@Sarahstumbo](https://github.com/Sarahstumbo)

The prototype was founded by [@Tvibit](https://github.com/tvibitnmkt) for the [Proto festival 2019](http://tvibit.net/proto) and coded by [@Turbolego](https://github.com/turbolego) (Consultant at [@Ciber-Norge](https://github.com/Ciber-Norge)) 

# Requisites:
1. A VR headset. Prototype has been tested both with HTC Vive and Oculus Rift DK2 (no controllers required)
2. A brain-computer interface that can send keyboard keys depending on stress levels. If you are using Emotiv follow the steps below under "First time use".
3. Unity 2018.4.14f1 (Can be installed from the [UnityHub application](https://docs.unity3d.com/Manual/GettingStartedInstallingHub.html) )

# Demo:

# First time use with Emotiv:
1. [Follow this guide ](https://emotiv.gitbook.io/emotivbci-node-red-toolbox/)
2. [Then this guide](https://flows.nodered.org/flow/12eada2ca5343bb824d14136f3203bb7)
3. Copy this Node-Red .json code and deploy with node-red:

`
[{"id":"8d7e259c.caf6c8","type":"tab","label":"Flow 3","disabled":false,"info":""},{"id":"af688115.28b13","type":"EMOTIV","z":"8d7e259c.caf6c8","name":"EMOTIV","x":100,"y":320,"wires":[["b68fb929.7b8948"]]},{"id":"b68fb929.7b8948","type":"Profile-Name","z":"8d7e259c.caf6c8","name":"Profile Name","profileName":"","x":280,"y":320,"wires":[["ac15bb6c.390958"]]},{"id":"ac15bb6c.390958","type":"Performance-Metric","z":"8d7e259c.caf6c8","name":"Performance Metrics","pm":"stress","x":540,"y":320,"wires":[["f084caf9.d506e8","359e9ae0.4ff3e6","99b34f3b.1d326","4d758036.1edae","7b43abbf.1d0444","bab021ec.a7218"]]},{"id":"2073f276.b386ae","type":"Keyboards","z":"8d7e259c.caf6c8","name":"Keyboards Whale","key":"5","typePress":"press","x":1020,"y":320,"wires":[]},{"id":"f084caf9.d506e8","type":"switch","z":"8d7e259c.caf6c8","name":"Threshold 70% Stress","property":"payload","propertyType":"msg","rules":[{"t":"btwn","v":"70","vt":"num","v2":"100","v2t":"num"}],"checkall":"true","repair":false,"outputs":1,"x":800,"y":380,"wires":[["75eb3d56.3bcc44","c2c8a905.b794c8"]]},{"id":"2fb743ff.506f1c","type":"debug","z":"8d7e259c.caf6c8","name":"Stress","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1230,"y":320,"wires":[]},{"id":"75eb3d56.3bcc44","type":"Keyboards","z":"8d7e259c.caf6c8","name":"Keyboards","key":"4","typePress":"press","x":1030,"y":380,"wires":[]},{"id":"359e9ae0.4ff3e6","type":"switch","z":"8d7e259c.caf6c8","name":"Threshold 0-70%","property":"payload","propertyType":"msg","rules":[{"t":"btwn","v":"0","vt":"num","v2":"70","v2t":"num"}],"checkall":"true","repair":false,"outputs":1,"x":790,"y":320,"wires":[["2073f276.b386ae","2fb743ff.506f1c"]]},{"id":"c2c8a905.b794c8","type":"debug","z":"8d7e259c.caf6c8","name":"Stress","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1230,"y":380,"wires":[]},{"id":"950b2ac5.25b9d8","type":"Keyboards","z":"8d7e259c.caf6c8","name":"Keyboards Whale","key":"7","typePress":"press","x":1020,"y":460,"wires":[]},{"id":"4d758036.1edae","type":"switch","z":"8d7e259c.caf6c8","name":"Threshold 50% Stress","property":"payload","propertyType":"msg","rules":[{"t":"btwn","v":"50","vt":"num","v2":"100","v2t":"num"}],"checkall":"true","repair":false,"outputs":1,"x":800,"y":520,"wires":[["56d3b493.e48c4c","b80b78ef.1fbe28"]]},{"id":"523b8b15.386004","type":"debug","z":"8d7e259c.caf6c8","name":"Stress","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1230,"y":460,"wires":[]},{"id":"56d3b493.e48c4c","type":"Keyboards","z":"8d7e259c.caf6c8","name":"Keyboards","key":"6","typePress":"press","x":1030,"y":520,"wires":[]},{"id":"99b34f3b.1d326","type":"switch","z":"8d7e259c.caf6c8","name":"Threshold 0-50%","property":"payload","propertyType":"msg","rules":[{"t":"btwn","v":"0","vt":"num","v2":"50","v2t":"num"}],"checkall":"true","repair":false,"outputs":1,"x":790,"y":460,"wires":[["950b2ac5.25b9d8","523b8b15.386004"]]},{"id":"b80b78ef.1fbe28","type":"debug","z":"8d7e259c.caf6c8","name":"Stress","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1230,"y":520,"wires":[]},{"id":"f48b97aa.72d578","type":"Keyboards","z":"8d7e259c.caf6c8","name":"Keyboards Whale","key":"9","typePress":"press","x":1020,"y":600,"wires":[]},{"id":"bab021ec.a7218","type":"switch","z":"8d7e259c.caf6c8","name":"Threshold 30% Stress","property":"payload","propertyType":"msg","rules":[{"t":"btwn","v":"30","vt":"num","v2":"100","v2t":"num"}],"checkall":"true","repair":false,"outputs":1,"x":800,"y":660,"wires":[["cec30a3d.b06468","28b1a93b.39f316"]]},{"id":"6accd04a.83b5a","type":"debug","z":"8d7e259c.caf6c8","name":"Stress","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1230,"y":600,"wires":[]},{"id":"cec30a3d.b06468","type":"Keyboards","z":"8d7e259c.caf6c8","name":"Keyboards","key":"8","typePress":"press","x":1030,"y":660,"wires":[]},{"id":"7b43abbf.1d0444","type":"switch","z":"8d7e259c.caf6c8","name":"Threshold 0-30%","property":"payload","propertyType":"msg","rules":[{"t":"btwn","v":"0","vt":"num","v2":"30","v2t":"num"}],"checkall":"true","repair":false,"outputs":1,"x":790,"y":600,"wires":[["f48b97aa.72d578","6accd04a.83b5a"]]},{"id":"28b1a93b.39f316","type":"debug","z":"8d7e259c.caf6c8","name":"Stress","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1230,"y":660,"wires":[]}]
`
